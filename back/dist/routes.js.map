{"version":3,"sources":["../src/routes.js"],"names":["express","require"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA;AACA;AACA;;;AAIA;;;;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA","file":"routes.js","sourcesContent":["const express = require('express');\n//const router = express.Router();\n//const JsonDB = require('node-json-db');\n//const db = new JsonDB(\"myDataBase\", true, true);\n\n\n\n/**\n * BEGIN MODIFICATIONS\n */\n\n/*router.get('/', function (req, res) {\n  res.send(\"Hello World\");\n});\n\nrouter.get('/event', function (req, res) {\n\n  const data = db.getData(\"/event\");\n  console.log(\"events\");\n  const events= [];\n  Object.keys(data).map((key)=> {\n    events.push({...data[key],id:key})\n  });\n  console.log(JSON.stringify(events,2,2))\n  res.json({events});\n  console.log(\"fetch in back\")\n});\n\nrouter.get('/event/:id', function (req, res) {\n  const data = db.getData(`/event/${req.params.id}`);\n  res.send(data);\n});\n\nrouter.post('/event', function (req, res) {\n  const id = Date.now();\n  try {\n    db.push(`/event/${id}`, req.body)\n    res.send({ id });\n  } catch (error) {\n    res.status(500).send({ error })\n  }\n});\n\nrouter.put('/event/:id', function (req, res) {\n  const id = req.params.id;\n  try {\n    db.push(`/event/${id}`, req.body)\n    res.send({ id });\n  } catch (error) {\n    res.status(500).send({ error })\n  }\n});\n\nrouter.delete('/event/:id', function (req, res) {\n  try {\n    db.delete(`/event/${req.params.id}`)\n    res.end()\n  } catch (error) {\n    res.status(500).send({ error })\n  }\n})\n\n/**\n * END MODIFICATIONS\n */\n\n\n\n\n//module.exports = router;\n"]}